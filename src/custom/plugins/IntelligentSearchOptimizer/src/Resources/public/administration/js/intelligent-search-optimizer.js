(function(){var e={580:function(){},343:function(){},169:function(){let{ApiService:e}=Shopware.Classes;Shopware.Service("searchAnalyticsApiService",class extends e{constructor(e,t,r="search-optimizer"){super(e,t,r)}getDashboardData(t={}){let r=this.getBasicHeaders();return this.httpClient.get("search-optimizer/analytics/dashboard",{params:t,headers:r}).then(t=>e.handleResponse(t))}getTopSearches(t={}){let r=this.getBasicHeaders();return this.httpClient.get("search-optimizer/analytics/top-searches",{params:t,headers:r}).then(t=>e.handleResponse(t))}getZeroResults(t={}){let r=this.getBasicHeaders();return this.httpClient.get("search-optimizer/analytics/zero-results",{params:t,headers:r}).then(t=>e.handleResponse(t))}exportData(e={}){let t=this.getBasicHeaders();return t["Content-Type"]="text/csv",this.httpClient.get("search-optimizer/analytics/export",{params:e,headers:t,responseType:"blob"})}})},995:function(e,t,r){var a=r(580);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),r(346).Z("74df5c79",a,!0,{})},788:function(e,t,r){var a=r(343);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),r(346).Z("134b0bca",a,!0,{})},346:function(e,t,r){"use strict";function a(e,t){for(var r=[],a={},n=0;n<t.length;n++){var s=t[n],i=s[0],o={id:e+":"+n,css:s[1],media:s[2],sourceMap:s[3]};a[i]?a[i].parts.push(o):r.push(a[i]={id:i,parts:[o]})}return r}r.d(t,{Z:function(){return u}});var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},i=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,d=function(){},h=null,m="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function u(e,t,r,n){c=r,h=n||{};var i=a(e,t);return g(i),function(t){for(var r=[],n=0;n<i.length;n++){var o=s[i[n].id];o.refs--,r.push(o)}t?g(i=a(e,t)):i=[];for(var n=0;n<r.length;n++){var o=r[n];if(0===o.refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete s[o.id]}}}}function g(e){for(var t=0;t<e.length;t++){var r=e[t],a=s[r.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](r.parts[n]);for(;n<r.parts.length;n++)a.parts.push(b(r.parts[n]));a.parts.length>r.parts.length&&(a.parts.length=r.parts.length)}else{for(var i=[],n=0;n<r.parts.length;n++)i.push(b(r.parts[n]));s[r.id]={id:r.id,refs:1,parts:i}}}}function y(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function b(e){var t,r,a=document.querySelector("style["+m+'~="'+e.id+'"]');if(a){if(c)return d;a.parentNode.removeChild(a)}if(p){var n=l++;t=z.bind(null,a=o||(o=y()),n,!1),r=z.bind(null,a,n,!0)}else t=v.bind(null,a=y()),r=function(){a.parentNode.removeChild(a)};return t(e),function(a){a?(a.css!==e.css||a.media!==e.media||a.sourceMap!==e.sourceMap)&&t(e=a):r()}}var w=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function z(e,t,r,a){var n=r?"":a.css;if(e.styleSheet)e.styleSheet.cssText=w(t,n);else{var s=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(s,i[t]):e.appendChild(s)}}function v(e,t){var r=t.css,a=t.media,n=t.sourceMap;if(a&&e.setAttribute("media",a),h.ssrId&&e.setAttribute(m,t.id),n&&(r+="\n/*# sourceURL="+n.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,exports:{}};return e[a](s,s.exports,r),s.exports}r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="bundles/intelligentsearchoptimizer/",window?.__sw__?.assetPath&&(r.p=window.__sw__.assetPath+"/bundles/intelligentsearchoptimizer/"),function(){"use strict";r(995);let{Component:e,Mixin:t}=Shopware,{Criteria:a}=Shopware.Data;e.register("search-optimizer-dashboard",{template:'{% block search_optimizer_dashboard %}\n<sw-page class="search-optimizer-dashboard">\n    {% block search_optimizer_dashboard_header %}\n    <template #smart-bar-header>\n        <h2>{{ $tc(\'search-optimizer.dashboard.title\') }}</h2>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_dashboard_actions %}\n    <template #smart-bar-actions>\n        <sw-button variant="primary" @click="onRefresh">\n            {{ $tc(\'global.default.refresh\') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_dashboard_content %}\n    <template #content>\n        <sw-card-view>\n            {% block search_optimizer_dashboard_filters %}\n            <sw-card :title="$tc(\'search-optimizer.dashboard.filters\')" :isLoading="isLoading">\n                <sw-container columns="repeat(auto-fit, minmax(200px, 1fr))" gap="20px">\n                    <sw-datepicker\n                        :value="dateFrom"\n                        :label="$tc(\'search-optimizer.dashboard.dateFrom\')"\n                        @input="dateFrom = $event; loadDashboardData()">\n                    </sw-datepicker>\n                    \n                    <sw-datepicker\n                        :value="dateTo"\n                        :label="$tc(\'search-optimizer.dashboard.dateTo\')"\n                        @input="dateTo = $event; loadDashboardData()">\n                    </sw-datepicker>\n                    \n                    <sw-entity-single-select\n                        :value="selectedSalesChannelId"\n                        entity="sales_channel"\n                        :label="$tc(\'search-optimizer.dashboard.salesChannel\')"\n                        @input="selectedSalesChannelId = $event; loadDashboardData()">\n                    </sw-entity-single-select>\n                    \n                    <sw-entity-single-select\n                        :value="selectedLanguageId"\n                        entity="language"\n                        :label="$tc(\'search-optimizer.dashboard.language\')"\n                        @input="selectedLanguageId = $event; loadDashboardData()">\n                    </sw-entity-single-select>\n                </sw-container>\n            </sw-card>\n            {% endblock %}\n\n            {% block search_optimizer_dashboard_summary %}\n            <sw-card :title="$tc(\'search-optimizer.dashboard.summary.title\')" :isLoading="isLoading" v-if="dashboardData">\n                <sw-container columns="repeat(auto-fit, minmax(200px, 1fr))" gap="20px">\n                    <sw-card-section divider="right">\n                        <div class="search-optimizer-dashboard__stat">\n                            <div class="search-optimizer-dashboard__stat-value">{{ dashboardData.summary.total_searches || 0 }}</div>\n                            <div class="search-optimizer-dashboard__stat-label">{{ $tc(\'search-optimizer.dashboard.summary.totalSearches\') }}</div>\n                        </div>\n                    </sw-card-section>\n                    \n                    <sw-card-section divider="right">\n                        <div class="search-optimizer-dashboard__stat">\n                            <div class="search-optimizer-dashboard__stat-value">{{ dashboardData.summary.unique_terms || 0 }}</div>\n                            <div class="search-optimizer-dashboard__stat-label">{{ $tc(\'search-optimizer.dashboard.summary.uniqueTerms\') }}</div>\n                        </div>\n                    </sw-card-section>\n                    \n                    <sw-card-section divider="right">\n                        <div class="search-optimizer-dashboard__stat">\n                            <div class="search-optimizer-dashboard__stat-value">{{ dashboardData.summary.zero_results || 0 }}</div>\n                            <div class="search-optimizer-dashboard__stat-label">{{ $tc(\'search-optimizer.dashboard.summary.zeroResults\') }}</div>\n                        </div>\n                    </sw-card-section>\n                    \n                    <sw-card-section>\n                        <div class="search-optimizer-dashboard__stat">\n                            <div class="search-optimizer-dashboard__stat-value">{{ dashboardData.summary.conversion_rate || 0 }}%</div>\n                            <div class="search-optimizer-dashboard__stat-label">{{ $tc(\'search-optimizer.dashboard.summary.conversionRate\') }}</div>\n                        </div>\n                    </sw-card-section>\n                </sw-container>\n            </sw-card>\n            {% endblock %}\n\n            {% block search_optimizer_dashboard_top_searches %}\n            <sw-card :title="$tc(\'search-optimizer.dashboard.topSearches.title\')" :isLoading="isLoading" v-if="dashboardData && dashboardData.topSearches">\n                <sw-data-grid\n                    :dataSource="dashboardData.topSearches"\n                    :columns="topSearchColumns"\n                    :showSelection="false"\n                    :showActions="false">\n                    \n                    <template #column-search_term="{ item }">\n                        <strong>{{ item.search_term }}</strong>\n                    </template>\n                    \n                    <template #column-conversion_rate="{ item }">\n                        <sw-color-badge :variant="getConversionVariant(item.conversion_rate)">\n                            {{ item.conversion_rate }}%\n                        </sw-color-badge>\n                    </template>\n                </sw-data-grid>\n                \n                <sw-button variant="ghost" size="small" @click="onExport(\'top\')">\n                    {{ $tc(\'search-optimizer.dashboard.export\') }}\n                </sw-button>\n            </sw-card>\n            {% endblock %}\n\n            {% block search_optimizer_dashboard_zero_results %}\n            <sw-card :title="$tc(\'search-optimizer.zeroResults.title\')" :isLoading="isLoading" v-if="dashboardData && dashboardData.zeroResults">\n                <sw-data-grid\n                    :dataSource="dashboardData.zeroResults"\n                    :columns="zeroResultColumns"\n                    :showSelection="false"\n                    :showActions="true">\n                    \n                    <template #column-search_term="{ item }">\n                        <strong>{{ item.search_term }}</strong>\n                    </template>\n                    \n                    <template #actions="{ item }">\n                        <sw-context-menu-item @click="createSynonym(item)">\n                            {{ $tc(\'search-optimizer.zeroResults.createSynonym\') }}\n                        </sw-context-menu-item>\n                        <sw-context-menu-item @click="createRedirect(item)">\n                            {{ $tc(\'search-optimizer.zeroResults.createRedirect\') }}\n                        </sw-context-menu-item>\n                    </template>\n                </sw-data-grid>\n                \n                <sw-button variant="ghost" size="small" @click="onExport(\'zero\')">\n                    {{ $tc(\'search-optimizer.dashboard.export\') }}\n                </sw-button>\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}',inject:["searchAnalyticsApiService","repositoryFactory"],mixins:[t.getByName("notification")],data(){return{isLoading:!0,dashboardData:null,dateFrom:null,dateTo:null,selectedSalesChannelId:null,selectedLanguageId:null}},metaInfo(){return{title:this.$createTitle()}},computed:{salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},languageRepository(){return this.repositoryFactory.create("language")},topSearchColumns(){return[{property:"search_term",label:this.$tc("search-optimizer.dashboard.topSearches.term"),rawData:!0},{property:"search_count",label:this.$tc("search-optimizer.dashboard.topSearches.count"),align:"right"},{property:"avg_results",label:this.$tc("search-optimizer.dashboard.topSearches.results"),align:"right"},{property:"conversion_rate",label:this.$tc("search-optimizer.dashboard.topSearches.conversion"),rawData:!0,align:"right"}]},zeroResultColumns(){return[{property:"search_term",label:this.$tc("search-optimizer.zeroResults.term"),rawData:!0},{property:"search_count",label:this.$tc("search-optimizer.zeroResults.count"),align:"right"},{property:"last_searched",label:this.$tc("search-optimizer.zeroResults.lastSearched"),align:"right"}]}},created(){this.loadDashboardData()},methods:{async loadDashboardData(){this.isLoading=!0;try{let e={salesChannelId:this.selectedSalesChannelId,languageId:this.selectedLanguageId};this.dateFrom&&(e.from=this.dateFrom),this.dateTo&&(e.to=this.dateTo);let t=await this.searchAnalyticsApiService.getDashboardData(e);this.dashboardData=t}catch(e){this.createNotificationError({title:this.$tc("search-optimizer.dashboard.error.title"),message:e.message})}finally{this.isLoading=!1}},onRefresh(){this.loadDashboardData()},onExport(e){let t={type:e,salesChannelId:this.selectedSalesChannelId,languageId:this.selectedLanguageId};this.dateFrom&&(t.from=this.dateFrom),this.dateTo&&(t.to=this.dateTo),this.searchAnalyticsApiService.exportData(t).then(t=>{let r=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=r,a.setAttribute("download",`search-analytics-${e}-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(a),a.click(),a.remove()}).catch(e=>{this.createNotificationError({title:this.$tc("search-optimizer.dashboard.error.export"),message:e.message})})},getConversionVariant(e){return e>=10?"success":e>=5?"warning":"danger"},createSynonym(e){this.$router.push({name:"search.optimizer.synonyms",query:{term:e.search_term}})},createRedirect(e){this.$router.push({name:"search.optimizer.redirects",query:{term:e.search_term}})}}}),r(788);let{Component:n,Mixin:s}=Shopware,{Criteria:i}=Shopware.Data;n.register("search-optimizer-synonyms",{template:'{% block search_optimizer_synonyms %}\n<sw-page class="search-optimizer-synonyms">\n    {% block search_optimizer_synonyms_header %}\n    <template #smart-bar-header>\n        <h2>{{ $tc(\'search-optimizer.synonyms.title\') }}</h2>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_synonyms_actions %}\n    <template #smart-bar-actions>\n        <sw-button variant="primary" @click="onClickNew">\n            {{ $tc(\'search-optimizer.synonyms.create\') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_synonyms_content %}\n    <template #content>\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="false"\n            :columns="columns"\n            :fullPage="true"\n            :sortBy="sortBy"\n            :sortDirection="sortDirection"\n            :isLoading="isLoading"\n            :allowInlineEdit="true"\n            :allowColumnEdit="true"\n            @inline-edit-save="onInlineEditSave"\n            @column-sort="onSortColumn">\n            \n            <template #column-active="{ item }">\n                <sw-icon v-if="item.active" name="default-basic-checkmark-line" color="#37D046"></sw-icon>\n                <sw-icon v-else name="default-basic-x-line" color="#DE294C"></sw-icon>\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item @click="onClickEdit(item)">\n                    {{ $tc(\'search-optimizer.synonyms.edit\') }}\n                </sw-context-menu-item>\n                \n                <sw-context-menu-item variant="danger" @click="onClickDelete(item.id)">\n                    {{ $tc(\'search-optimizer.synonyms.delete\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n\n        {% block search_optimizer_synonyms_modal %}\n        <sw-modal\n            v-if="showModal"\n            :title="currentItem.id ? $tc(\'search-optimizer.synonyms.editTitle\') : $tc(\'search-optimizer.synonyms.createTitle\')"\n            @modal-close="onCloseModal">\n            \n            <sw-container columns="1fr" gap="20px">\n                <sw-text-field\n                    v-model="currentItem.keyword"\n                    :label="$tc(\'search-optimizer.synonyms.keyword\')"\n                    :placeholder="$tc(\'search-optimizer.synonyms.keywordPlaceholder\')"\n                    required>\n                </sw-text-field>\n                \n                <sw-text-field\n                    v-model="currentItem.synonym"\n                    :label="$tc(\'search-optimizer.synonyms.synonym\')"\n                    :placeholder="$tc(\'search-optimizer.synonyms.synonymPlaceholder\')"\n                    required>\n                </sw-text-field>\n                \n                <sw-entity-single-select\n                    v-model="currentItem.languageId"\n                    entity="language"\n                    :label="$tc(\'search-optimizer.synonyms.language\')"\n                    :placeholder="$tc(\'search-optimizer.synonyms.languagePlaceholder\')">\n                </sw-entity-single-select>\n                \n                <sw-entity-single-select\n                    v-model="currentItem.salesChannelId"\n                    entity="sales_channel"\n                    :label="$tc(\'search-optimizer.synonyms.salesChannel\')"\n                    :placeholder="$tc(\'search-optimizer.synonyms.salesChannelPlaceholder\')">\n                </sw-entity-single-select>\n                \n                <sw-switch-field\n                    v-model="currentItem.active"\n                    :label="$tc(\'search-optimizer.synonyms.active\')">\n                </sw-switch-field>\n            </sw-container>\n            \n            <template #modal-footer>\n                <sw-button @click="onCloseModal" size="small">\n                    {{ $tc(\'global.default.cancel\') }}\n                </sw-button>\n                <sw-button @click="onSaveModal" variant="primary" size="small">\n                    {{ $tc(\'global.default.save\') }}\n                </sw-button>\n            </template>\n        </sw-modal>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}',inject:["repositoryFactory"],mixins:[s.getByName("notification"),s.getByName("listing")],data(){return{repository:null,items:null,showModal:!1,currentItem:null,isLoading:!0,total:0}},metaInfo(){return{title:this.$createTitle()}},computed:{synonymRepository(){return this.repositoryFactory.create("search_synonym")},columns(){return[{property:"keyword",label:this.$tc("search-optimizer.synonyms.keyword"),routerLink:"search.optimizer.synonyms.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"synonym",label:this.$tc("search-optimizer.synonyms.synonym"),inlineEdit:"string",allowResize:!0},{property:"language.name",label:this.$tc("search-optimizer.synonyms.language"),allowResize:!0},{property:"salesChannel.name",label:this.$tc("search-optimizer.synonyms.salesChannel"),allowResize:!0},{property:"active",label:this.$tc("search-optimizer.synonyms.active"),inlineEdit:"boolean",allowResize:!0,align:"center"}]},criteria(){let e=new i(this.page,this.limit);return e.setTerm(this.term),e.addAssociation("language"),e.addAssociation("salesChannel"),e}},created(){this.repository=this.synonymRepository;let e=this.$route.query.term;e&&(this.showModal=!0,this.currentItem=this.repository.create(Shopware.Context.api),this.currentItem.keyword=e,this.currentItem.active=!0)},methods:{getList(){return this.isLoading=!0,this.repository.search(this.criteria,Shopware.Context.api).then(e=>(this.items=e,this.total=e.total,this.isLoading=!1,e))},onChangeLanguage(e){Shopware.State.commit("context/setApiLanguageId",e),this.getList()},onInlineEditSave(e,t){e.then(()=>{this.createNotificationSuccess({message:this.$tc("search-optimizer.synonyms.saveSuccess")})}).catch(()=>{this.createNotificationError({message:this.$tc("search-optimizer.synonyms.saveError")}),this.getList()})},onClickNew(){this.showModal=!0,this.currentItem=this.repository.create(Shopware.Context.api),this.currentItem.active=!0},onClickEdit(e){this.showModal=!0,this.currentItem=e},onCloseModal(){this.showModal=!1,this.currentItem=null},onSaveModal(){if(!this.currentItem.keyword||!this.currentItem.synonym){this.createNotificationError({message:this.$tc("search-optimizer.synonyms.validationError")});return}let e=!this.currentItem.id;this.repository.save(this.currentItem,Shopware.Context.api).then(()=>{this.getList(),this.showModal=!1,this.createNotificationSuccess({message:this.$tc(e?"search-optimizer.synonyms.createSuccess":"search-optimizer.synonyms.saveSuccess")})}).catch(()=>{this.createNotificationError({message:this.$tc(e?"search-optimizer.synonyms.createError":"search-optimizer.synonyms.saveError")})})}}});let{Component:o,Mixin:l}=Shopware,{Criteria:c}=Shopware.Data;o.register("search-optimizer-redirects",{template:'{% block search_optimizer_redirects %}\n<sw-page class="search-optimizer-redirects">\n    {% block search_optimizer_redirects_header %}\n    <template #smart-bar-header>\n        <h2>{{ $tc(\'search-optimizer.redirects.title\') }}</h2>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_redirects_actions %}\n    <template #smart-bar-actions>\n        <sw-button variant="primary" @click="onClickNew">\n            {{ $tc(\'search-optimizer.redirects.create\') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_redirects_content %}\n    <template #content>\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="false"\n            :columns="columns"\n            :fullPage="true"\n            :sortBy="sortBy"\n            :sortDirection="sortDirection"\n            :isLoading="isLoading"\n            :allowInlineEdit="true"\n            :allowColumnEdit="true"\n            @inline-edit-save="onInlineEditSave"\n            @column-sort="onSortColumn">\n            \n            <template #column-targetType="{ item }">\n                {{ $tc(\'search-optimizer.redirects.types.\' + item.targetType) }}\n            </template>\n            \n            <template #column-active="{ item }">\n                <sw-icon v-if="item.active" name="default-basic-checkmark-line" color="#37D046"></sw-icon>\n                <sw-icon v-else name="default-basic-x-line" color="#DE294C"></sw-icon>\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item @click="onClickEdit(item)">\n                    {{ $tc(\'search-optimizer.redirects.edit\') }}\n                </sw-context-menu-item>\n                \n                <sw-context-menu-item variant="danger" @click="onClickDelete(item.id)">\n                    {{ $tc(\'search-optimizer.redirects.delete\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n\n        {% block search_optimizer_redirects_modal %}\n        <sw-modal\n            v-if="showModal"\n            :title="currentItem.id ? $tc(\'search-optimizer.redirects.editTitle\') : $tc(\'search-optimizer.redirects.createTitle\')"\n            @modal-close="onCloseModal">\n            \n            <sw-container columns="1fr" gap="20px">\n                <sw-text-field\n                    v-model="currentItem.searchTerm"\n                    :label="$tc(\'search-optimizer.redirects.searchTerm\')"\n                    :placeholder="$tc(\'search-optimizer.redirects.searchTermPlaceholder\')"\n                    required>\n                </sw-text-field>\n                \n                <sw-single-select\n                    v-model="currentItem.targetType"\n                    :label="$tc(\'search-optimizer.redirects.targetType\')"\n                    :options="[\n                        { value: \'url\', label: $tc(\'search-optimizer.redirects.types.url\') },\n                        { value: \'category\', label: $tc(\'search-optimizer.redirects.types.category\') },\n                        { value: \'product\', label: $tc(\'search-optimizer.redirects.types.product\') },\n                        { value: \'landingPage\', label: $tc(\'search-optimizer.redirects.types.landingPage\') }\n                    ]"\n                    required>\n                </sw-single-select>\n                \n                <sw-text-field\n                    v-if="currentItem.targetType === \'url\'"\n                    v-model="currentItem.targetUrl"\n                    :label="$tc(\'search-optimizer.redirects.targetUrl\')"\n                    :placeholder="$tc(\'search-optimizer.redirects.targetUrlPlaceholder\')"\n                    required>\n                </sw-text-field>\n                \n                <sw-entity-single-select\n                    v-if="currentItem.targetType === \'category\'"\n                    v-model="currentItem.targetEntityId"\n                    entity="category"\n                    :label="$tc(\'search-optimizer.redirects.targetCategory\')"\n                    @select-change="onSelectCategory"\n                    required>\n                </sw-entity-single-select>\n                \n                <sw-entity-single-select\n                    v-if="currentItem.targetType === \'product\'"\n                    v-model="currentItem.targetEntityId"\n                    entity="product"\n                    :label="$tc(\'search-optimizer.redirects.targetProduct\')"\n                    @select-change="onSelectProduct"\n                    required>\n                </sw-entity-single-select>\n                \n                <sw-entity-single-select\n                    v-if="currentItem.targetType === \'landingPage\'"\n                    v-model="currentItem.targetEntityId"\n                    entity="landing_page"\n                    :label="$tc(\'search-optimizer.redirects.targetLandingPage\')"\n                    @select-change="onSelectLandingPage"\n                    required>\n                </sw-entity-single-select>\n                \n                <sw-number-field\n                    v-model="currentItem.priority"\n                    :label="$tc(\'search-optimizer.redirects.priority\')"\n                    :placeholder="$tc(\'search-optimizer.redirects.priorityPlaceholder\')"\n                    :min="0"\n                    :max="999">\n                </sw-number-field>\n                \n                <sw-entity-single-select\n                    v-model="currentItem.languageId"\n                    entity="language"\n                    :label="$tc(\'search-optimizer.redirects.language\')"\n                    :placeholder="$tc(\'search-optimizer.redirects.languagePlaceholder\')">\n                </sw-entity-single-select>\n                \n                <sw-entity-single-select\n                    v-model="currentItem.salesChannelId"\n                    entity="sales_channel"\n                    :label="$tc(\'search-optimizer.redirects.salesChannel\')"\n                    :placeholder="$tc(\'search-optimizer.redirects.salesChannelPlaceholder\')">\n                </sw-entity-single-select>\n                \n                <sw-switch-field\n                    v-model="currentItem.active"\n                    :label="$tc(\'search-optimizer.redirects.active\')">\n                </sw-switch-field>\n            </sw-container>\n            \n            <template #modal-footer>\n                <sw-button @click="onCloseModal" size="small">\n                    {{ $tc(\'global.default.cancel\') }}\n                </sw-button>\n                <sw-button @click="onSaveModal" variant="primary" size="small">\n                    {{ $tc(\'global.default.save\') }}\n                </sw-button>\n            </template>\n        </sw-modal>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}',inject:["repositoryFactory"],mixins:[l.getByName("notification"),l.getByName("listing")],data(){return{repository:null,items:null,showModal:!1,currentItem:null,isLoading:!0,total:0}},metaInfo(){return{title:this.$createTitle()}},computed:{redirectRepository(){return this.repositoryFactory.create("search_redirect")},columns(){return[{property:"searchTerm",label:this.$tc("search-optimizer.redirects.searchTerm"),routerLink:"search.optimizer.redirects.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"targetUrl",label:this.$tc("search-optimizer.redirects.targetUrl"),inlineEdit:"string",allowResize:!0},{property:"targetType",label:this.$tc("search-optimizer.redirects.targetType"),allowResize:!0},{property:"priority",label:this.$tc("search-optimizer.redirects.priority"),inlineEdit:"number",allowResize:!0,align:"right"},{property:"active",label:this.$tc("search-optimizer.redirects.active"),inlineEdit:"boolean",allowResize:!0,align:"center"}]},criteria(){let e=new c(this.page,this.limit);return e.setTerm(this.term),e.addAssociation("language"),e.addAssociation("salesChannel"),e.addSorting(c.sort("priority","DESC")),e}},created(){this.repository=this.redirectRepository;let e=this.$route.query.term;e&&(this.showModal=!0,this.currentItem=this.repository.create(Shopware.Context.api),this.currentItem.searchTerm=e,this.currentItem.targetType="url",this.currentItem.priority=0,this.currentItem.active=!0)},methods:{getList(){return this.isLoading=!0,this.repository.search(this.criteria,Shopware.Context.api).then(e=>(this.items=e,this.total=e.total,this.isLoading=!1,e))},onInlineEditSave(e,t){e.then(()=>{this.createNotificationSuccess({message:this.$tc("search-optimizer.redirects.saveSuccess")})}).catch(()=>{this.createNotificationError({message:this.$tc("search-optimizer.redirects.saveError")}),this.getList()})},onClickNew(){this.showModal=!0,this.currentItem=this.repository.create(Shopware.Context.api),this.currentItem.targetType="url",this.currentItem.priority=0,this.currentItem.active=!0},onClickEdit(e){this.showModal=!0,this.currentItem=e},onCloseModal(){this.showModal=!1,this.currentItem=null},onSaveModal(){if(!this.currentItem.searchTerm||!this.currentItem.targetUrl){this.createNotificationError({message:this.$tc("search-optimizer.redirects.validationError")});return}let e=!this.currentItem.id;this.repository.save(this.currentItem,Shopware.Context.api).then(()=>{this.getList(),this.showModal=!1,this.createNotificationSuccess({message:this.$tc(e?"search-optimizer.redirects.createSuccess":"search-optimizer.redirects.saveSuccess")})}).catch(()=>{this.createNotificationError({message:this.$tc(e?"search-optimizer.redirects.createError":"search-optimizer.redirects.saveError")})})},onSelectCategory(e){e&&(this.currentItem.targetUrl=`/navigation/${e.id}`)},onSelectProduct(e){e&&(this.currentItem.targetUrl=`/detail/${e.id}`)},onSelectLandingPage(e){e&&(this.currentItem.targetUrl=`/landingpage/${e.id}`)}}});let{Component:d,Mixin:h}=Shopware;d.register("search-optimizer-zero-results",{template:'{% block search_optimizer_zero_results %}\n<sw-page class="search-optimizer-zero-results">\n    {% block search_optimizer_zero_results_header %}\n    <template #smart-bar-header>\n        <h2>{{ $tc(\'search-optimizer.zeroResults.title\') }}</h2>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_zero_results_actions %}\n    <template #smart-bar-actions>\n        <sw-button @click="onExport">\n            {{ $tc(\'search-optimizer.dashboard.export\') }}\n        </sw-button>\n        <sw-button variant="primary" @click="onRefresh">\n            {{ $tc(\'global.default.refresh\') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    {% block search_optimizer_zero_results_content %}\n    <template #content>\n        <sw-card-view>\n            {% block search_optimizer_zero_results_filters %}\n            <sw-card :title="$tc(\'search-optimizer.dashboard.filters\')" :isLoading="isLoading">\n                <sw-container columns="repeat(auto-fit, minmax(200px, 1fr))" gap="20px">\n                    <sw-datepicker\n                        :value="dateFrom"\n                        :label="$tc(\'search-optimizer.dashboard.dateFrom\')"\n                        @input="dateFrom = $event; loadData()">\n                    </sw-datepicker>\n                    \n                    <sw-datepicker\n                        :value="dateTo"\n                        :label="$tc(\'search-optimizer.dashboard.dateTo\')"\n                        @input="dateTo = $event; loadData()">\n                    </sw-datepicker>\n                    \n                    <sw-entity-single-select\n                        :value="selectedSalesChannelId"\n                        entity="sales_channel"\n                        :label="$tc(\'search-optimizer.dashboard.salesChannel\')"\n                        @input="selectedSalesChannelId = $event; loadData()">\n                    </sw-entity-single-select>\n                    \n                    <sw-entity-single-select\n                        :value="selectedLanguageId"\n                        entity="language"\n                        :label="$tc(\'search-optimizer.dashboard.language\')"\n                        @input="selectedLanguageId = $event; loadData()">\n                    </sw-entity-single-select>\n                </sw-container>\n            </sw-card>\n            {% endblock %}\n\n            {% block search_optimizer_zero_results_list %}\n            <sw-card :isLoading="isLoading">\n                <sw-data-grid\n                    :dataSource="items"\n                    :columns="columns"\n                    :showSelection="false"\n                    :showActions="true"\n                    :fullPage="false">\n                    \n                    <template #column-search_term="{ item }">\n                        <strong>{{ item.search_term }}</strong>\n                    </template>\n                    \n                    <template #actions="{ item }">\n                        <sw-context-menu-item @click="createSynonym(item)">\n                            {{ $tc(\'search-optimizer.zeroResults.createSynonym\') }}\n                        </sw-context-menu-item>\n                        <sw-context-menu-item @click="createRedirect(item)">\n                            {{ $tc(\'search-optimizer.zeroResults.createRedirect\') }}\n                        </sw-context-menu-item>\n                    </template>\n                </sw-data-grid>\n                \n                <sw-empty-state \n                    v-if="!isLoading && items.length === 0"\n                    :title="$tc(\'search-optimizer.zeroResults.emptyState.title\')"\n                    :subline="$tc(\'search-optimizer.zeroResults.emptyState.subtitle\')"\n                    :absolute="false">\n                </sw-empty-state>\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}',inject:["searchAnalyticsApiService"],mixins:[h.getByName("notification")],data(){return{isLoading:!0,items:[],dateFrom:null,dateTo:null,selectedSalesChannelId:null,selectedLanguageId:null}},metaInfo(){return{title:this.$createTitle()}},computed:{columns(){return[{property:"search_term",label:this.$tc("search-optimizer.zeroResults.term"),rawData:!0,primary:!0},{property:"search_count",label:this.$tc("search-optimizer.zeroResults.count"),align:"right"},{property:"unique_sessions",label:this.$tc("search-optimizer.zeroResults.uniqueSessions"),align:"right"},{property:"last_searched",label:this.$tc("search-optimizer.zeroResults.lastSearched"),align:"right"}]}},created(){this.loadData()},methods:{async loadData(){this.isLoading=!0;try{let e={limit:100,salesChannelId:this.selectedSalesChannelId,languageId:this.selectedLanguageId};this.dateFrom&&(e.from=this.dateFrom),this.dateTo&&(e.to=this.dateTo);let t=await this.searchAnalyticsApiService.getZeroResults(e);this.items=t.data||[]}catch(e){this.createNotificationError({title:this.$tc("search-optimizer.zeroResults.error.title"),message:e.message})}finally{this.isLoading=!1}},onRefresh(){this.loadData()},createSynonym(e){this.$router.push({name:"search.optimizer.synonyms",query:{term:e.search_term}})},createRedirect(e){this.$router.push({name:"search.optimizer.redirects",query:{term:e.search_term}})},onExport(){let e={type:"zero",salesChannelId:this.selectedSalesChannelId,languageId:this.selectedLanguageId};this.dateFrom&&(e.from=this.dateFrom),this.dateTo&&(e.to=this.dateTo),this.searchAnalyticsApiService.exportData(e).then(e=>{let t=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=t,r.setAttribute("download",`zero-results-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(r),r.click(),r.remove()}).catch(e=>{this.createNotificationError({title:this.$tc("search-optimizer.zeroResults.error.export"),message:e.message})})}}});var m=JSON.parse('{"search-optimizer":{"general":{"mainMenuItemGeneral":"Suchanalyse","mainMenuItemDashboard":"Dashboard","mainMenuItemZeroResults":"Nulltreffer","mainMenuItemSynonyms":"Synonyme","mainMenuItemRedirects":"Weiterleitungen","descriptionTextModule":"Intelligente Suchanalyse und Optimierung"},"dashboard":{"title":"Suchanalyse Dashboard","filters":"Filter","dateFrom":"Von Datum","dateTo":"Bis Datum","salesChannel":"Verkaufskanal","language":"Sprache","summary":{"title":"Zusammenfassung","totalSearches":"Gesamte Suchanfragen","uniqueTerms":"Eindeutige Suchbegriffe","zeroResults":"Nulltreffer","conversionRate":"Konversionsrate"},"topSearches":{"title":"Top Suchbegriffe","term":"Suchbegriff","count":"Anzahl","results":"Ergebnisse","conversion":"Konversion"},"trends":{"title":"Suchtrends"},"export":"Exportieren","error":{"title":"Fehler beim Laden","export":"Export fehlgeschlagen"}},"zeroResults":{"title":"Nulltreffer-Suchen","term":"Suchbegriff","count":"Anzahl","uniqueSessions":"Eindeutige Sitzungen","lastSearched":"Zuletzt gesucht","action":"Aktion","createSynonym":"Synonym erstellen","createRedirect":"Weiterleitung erstellen","emptyState":{"title":"Keine Nulltreffer gefunden","subtitle":"Es wurden keine Suchanfragen ohne Ergebnisse im ausgew\xe4hlten Zeitraum gefunden."},"error":{"title":"Fehler beim Laden","export":"Export fehlgeschlagen"}},"synonyms":{"title":"Synonymverwaltung","keyword":"Schl\xfcsselwort","synonym":"Synonym","language":"Sprache","salesChannel":"Verkaufskanal","active":"Aktiv","create":"Synonym erstellen","createTitle":"Neues Synonym erstellen","edit":"Bearbeiten","editTitle":"Synonym bearbeiten","delete":"L\xf6schen","keywordPlaceholder":"z.B. Handy","synonymPlaceholder":"z.B. Smartphone","languagePlaceholder":"Alle Sprachen","salesChannelPlaceholder":"Alle Verkaufskan\xe4le","saveSuccess":"Synonym wurde gespeichert","saveError":"Fehler beim Speichern","createSuccess":"Synonym wurde erstellt","createError":"Fehler beim Erstellen","validationError":"Bitte f\xfcllen Sie alle Pflichtfelder aus"},"redirects":{"title":"Weiterleitungsverwaltung","searchTerm":"Suchbegriff","targetUrl":"Ziel-URL","targetType":"Zieltyp","targetCategory":"Zielkategorie","targetProduct":"Zielprodukt","targetLandingPage":"Ziel-Landingpage","priority":"Priorit\xe4t","active":"Aktiv","create":"Weiterleitung erstellen","createTitle":"Neue Weiterleitung erstellen","edit":"Bearbeiten","editTitle":"Weiterleitung bearbeiten","delete":"L\xf6schen","searchTermPlaceholder":"z.B. Sonderangebot","targetUrlPlaceholder":"z.B. /sale","priorityPlaceholder":"0-999 (h\xf6her = wichtiger)","languagePlaceholder":"Alle Sprachen","salesChannelPlaceholder":"Alle Verkaufskan\xe4le","saveSuccess":"Weiterleitung wurde gespeichert","saveError":"Fehler beim Speichern","createSuccess":"Weiterleitung wurde erstellt","createError":"Fehler beim Erstellen","validationError":"Bitte f\xfcllen Sie alle Pflichtfelder aus","types":{"url":"URL","category":"Kategorie","product":"Produkt","landingPage":"Landingpage"}}}}'),p=JSON.parse('{"search-optimizer":{"general":{"mainMenuItemGeneral":"Search Analysis","mainMenuItemDashboard":"Dashboard","mainMenuItemZeroResults":"Zero Results","mainMenuItemSynonyms":"Synonyms","mainMenuItemRedirects":"Redirects","descriptionTextModule":"Intelligent search analysis and optimization"},"dashboard":{"title":"Search Analysis Dashboard","filters":"Filters","dateFrom":"From Date","dateTo":"To Date","salesChannel":"Sales Channel","language":"Language","summary":{"title":"Summary","totalSearches":"Total Searches","uniqueTerms":"Unique Search Terms","zeroResults":"Zero Results","conversionRate":"Conversion Rate"},"topSearches":{"title":"Top Search Terms","term":"Search Term","count":"Count","results":"Results","conversion":"Conversion"},"trends":{"title":"Search Trends"},"export":"Export"},"zeroResults":{"title":"Zero Result Searches","term":"Search Term","count":"Count","lastSearched":"Last Searched","action":"Action","createSynonym":"Create Synonym","createRedirect":"Create Redirect"},"synonyms":{"title":"Synonym Management","keyword":"Keyword","synonym":"Synonym","language":"Language","salesChannel":"Sales Channel","active":"Active","create":"Create Synonym","edit":"Edit","delete":"Delete"},"redirects":{"title":"Redirect Management","searchTerm":"Search Term","targetUrl":"Target URL","targetType":"Target Type","priority":"Priority","active":"Active","create":"Create Redirect","edit":"Edit","delete":"Delete","types":{"url":"URL","category":"Category","product":"Product","landingPage":"Landing Page"}}}}');let{Module:u}=Shopware;u.register("search-optimizer",{type:"plugin",name:"search-optimizer",title:"search-optimizer.general.mainMenuItemGeneral",description:"search-optimizer.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#ff6b6b",icon:"default-action-search",snippets:{"de-DE":m,"en-GB":p},routes:{dashboard:{component:"search-optimizer-dashboard",path:"dashboard"},synonyms:{component:"search-optimizer-synonyms",path:"synonyms"},redirects:{component:"search-optimizer-redirects",path:"redirects"},"zero-results":{component:"search-optimizer-zero-results",path:"zero-results"}},navigation:[{id:"search-optimizer",label:"search-optimizer.general.mainMenuItemGeneral",color:"#ff6b6b",icon:"default-action-search",position:100,parent:"sw-marketing"},{path:"search.optimizer.dashboard",label:"search-optimizer.general.mainMenuItemDashboard",parent:"search-optimizer",position:100},{path:"search.optimizer.zero.results",label:"search-optimizer.general.mainMenuItemZeroResults",parent:"search-optimizer",position:200},{path:"search.optimizer.synonyms",label:"search-optimizer.general.mainMenuItemSynonyms",parent:"search-optimizer",position:300},{path:"search.optimizer.redirects",label:"search-optimizer.general.mainMenuItemRedirects",parent:"search-optimizer",position:400}]}),r(169),Shopware.Locale.extend("de-DE",m),Shopware.Locale.extend("en-GB",p)}()})();